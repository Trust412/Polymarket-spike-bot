# PolySpike Trader

An automated trading bot for Polymarket that detects price spikes and executes trades on the Polygon network.

## Features

- Multi-pair trading support
- Automatic price spike detection
- Configurable take-profit and stop-loss levels
- USDC balance management
- Automatic API credential refresh
- Comprehensive logging

## Setup

1. Install dependencies:
```bash
pip install -r requirements.txt
```

2. Create a `keys.env` file with your configuration:
```env
PK=your_private_key
recent_traded=60
cooldown=5
take_profit=0.03
stop_loss=-0.025
```

## Configuration Parameters

- `PK`: Your wallet's private key
- `recent_traded`: Cooldown period between trades (in seconds)
- `cooldown`: Retry cooldown for failed orders (in seconds)
- `take_profit`: Take profit threshold (e.g., 0.03 for 3%)
- `stop_loss`: Stop loss threshold (e.g., -0.025 for -2.5%)

## Bot Structure

<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-7.500000476837158 -8 1939.0157470703125 2124.55908203125" style="max-width: 1939.0157470703125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="graphDiv"><style>#graphDiv{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#graphDiv .error-icon{fill:#552222;}#graphDiv .error-text{fill:#552222;stroke:#552222;}#graphDiv .edge-thickness-normal{stroke-width:2px;}#graphDiv .edge-thickness-thick{stroke-width:3.5px;}#graphDiv .edge-pattern-solid{stroke-dasharray:0;}#graphDiv .edge-pattern-dashed{stroke-dasharray:3;}#graphDiv .edge-pattern-dotted{stroke-dasharray:2;}#graphDiv .marker{fill:#333333;stroke:#333333;}#graphDiv .marker.cross{stroke:#333333;}#graphDiv svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#graphDiv .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#graphDiv .cluster-label text{fill:#333;}#graphDiv .cluster-label span,#graphDiv p{color:#333;}#graphDiv .label text,#graphDiv span,#graphDiv p{fill:#333;color:#333;}#graphDiv .node rect,#graphDiv .node circle,#graphDiv .node ellipse,#graphDiv .node polygon,#graphDiv .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#graphDiv .flowchart-label text{text-anchor:middle;}#graphDiv .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#graphDiv .node .label{text-align:center;}#graphDiv .node.clickable{cursor:pointer;}#graphDiv .arrowheadPath{fill:#333333;}#graphDiv .edgePath .path{stroke:#333333;stroke-width:2.0px;}#graphDiv .flowchart-link{stroke:#333333;fill:none;}#graphDiv .edgeLabel{background-color:#e8e8e8;text-align:center;}#graphDiv .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#graphDiv .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#graphDiv .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#graphDiv .cluster text{fill:#333;}#graphDiv .cluster span,#graphDiv p{color:#333;}#graphDiv div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#graphDiv .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#graphDiv :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="6" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="graphDiv_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="graphDiv_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="graphDiv_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-A LE-B" id="L-A-B-0" d="M1776.254,367.318L1776.254,427.056C1776.254,486.794,1776.254,606.27,1776.254,669.292C1776.254,732.313,1776.254,738.88,1776.254,742.163L1776.254,745.447"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-B LE-C" id="L-B-C-0" d="M1776.254,784.635L1776.254,788.802C1776.254,792.969,1776.254,801.302,1776.254,808.752C1776.254,816.202,1776.254,822.769,1776.254,826.052L1776.254,829.335"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-D" id="L-C-D-0" d="M1776.254,868.524L1776.254,872.691C1776.254,876.858,1776.254,885.191,1776.254,892.641C1776.254,900.091,1776.254,906.658,1776.254,909.941L1776.254,913.224"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-D LE-E" id="L-D-E-0" d="M1776.254,952.413L1776.254,956.58C1776.254,960.747,1776.254,969.08,1776.254,976.53C1776.254,983.98,1776.254,990.547,1776.254,993.83L1776.254,997.113"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-E LE-F" id="L-E-F-0" d="M1776.254,1036.302L1776.254,1040.469C1776.254,1044.635,1776.254,1052.969,1776.32,1060.502C1776.386,1068.036,1776.518,1074.769,1776.584,1078.136L1776.65,1081.503"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-G" id="L-F-G-0" d="M1735.351,1264.444L1727.584,1277.002C1719.817,1289.56,1704.284,1314.676,1696.517,1332.091C1688.75,1349.507,1688.75,1359.221,1688.75,1364.079L1688.75,1368.936"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-F LE-H" id="L-F-H-0" d="M1818.158,1264.444L1825.758,1277.002C1833.358,1289.56,1848.558,1314.676,1856.159,1332.091C1863.759,1349.507,1863.759,1359.221,1863.759,1364.079L1863.759,1368.936"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-G LE-I" id="L-G-I-0" d="M1623.498,1403.208L1596.448,1408.194C1569.397,1413.18,1515.295,1423.153,1488.244,1431.422C1461.194,1439.692,1461.194,1446.258,1461.194,1449.542L1461.194,1452.825"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-J" id="L-I-J-0" d="M1461.194,1492.014L1461.194,1496.181C1461.194,1500.347,1461.194,1508.681,1461.26,1516.214C1461.326,1523.748,1461.458,1530.481,1461.524,1533.848L1461.59,1537.215"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-K" id="L-J-K-0" d="M1448.268,1741.189L1447.028,1749.084C1445.788,1756.979,1443.309,1772.769,1442.069,1785.521C1440.829,1798.274,1440.829,1807.989,1440.829,1812.846L1440.829,1817.703"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-J LE-L" id="L-J-L-0" d="M1506.305,1710.003L1515.789,1723.096C1525.272,1736.189,1544.24,1762.374,1562.097,1780.737C1579.955,1799.099,1596.702,1809.64,1605.075,1814.91L1613.449,1820.18"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-L LE-G" id="L-L-G-0" d="M1659.33,1823.003L1664.233,1817.263C1669.136,1811.522,1678.943,1800.041,1683.847,1770.884C1688.75,1741.727,1688.75,1694.896,1688.75,1649.638C1688.75,1604.381,1688.75,1560.697,1688.75,1531.865C1688.75,1503.032,1688.75,1489.051,1688.75,1475.069C1688.75,1461.088,1688.75,1447.107,1688.75,1436.832C1688.75,1426.558,1688.75,1419.992,1688.75,1416.708L1688.75,1413.425"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-K LE-M" id="L-K-M-0" d="M1440.829,1856.892L1440.829,1861.059C1440.829,1865.226,1440.829,1873.559,1440.829,1881.009C1440.829,1888.459,1440.829,1895.026,1440.829,1898.309L1440.829,1901.592"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-N" id="L-M-N-0" d="M1440.829,1940.781L1440.829,1944.948C1440.829,1949.115,1440.829,1957.448,1440.829,1964.898C1440.829,1972.348,1440.829,1978.915,1440.829,1982.198L1440.829,1985.481"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N LE-O" id="L-N-O-0" d="M1440.829,2024.67L1440.829,2028.837C1440.829,2033.003,1440.829,2041.337,1464.047,2050.048C1487.265,2058.759,1533.701,2067.847,1556.919,2072.391L1580.137,2076.935"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-G" id="L-O-G-0" d="M1694.528,2074.67L1704.214,2070.503C1713.9,2066.337,1733.272,2058.003,1742.957,2046.846C1752.643,2035.689,1752.643,2021.707,1752.643,2007.726C1752.643,1993.744,1752.643,1979.763,1752.643,1965.781C1752.643,1951.8,1752.643,1937.818,1752.643,1923.837C1752.643,1909.855,1752.643,1895.874,1752.643,1881.892C1752.643,1867.911,1752.643,1853.929,1752.643,1838.374C1752.643,1822.818,1752.643,1805.689,1752.643,1773.708C1752.643,1741.727,1752.643,1694.896,1752.643,1649.638C1752.643,1604.381,1752.643,1560.697,1752.643,1531.865C1752.643,1503.032,1752.643,1489.051,1752.643,1475.069C1752.643,1461.088,1752.643,1447.107,1747.035,1436.434C1741.426,1425.761,1730.209,1418.397,1724.6,1414.716L1718.992,1411.034"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1688.7500343322754, 1339.7916889190674)" class="edgeLabel"><g transform="translate(-11.328126907348633, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="22.656253814697266"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(1863.7587203979492, 1339.7916889190674)" class="edgeLabel"><g transform="translate(-9.401041984558105, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="18.80208396911621"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(1440.8290176391602, 1788.5590496063232)" class="edgeLabel"><g transform="translate(-11.328126907348633, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="22.656253814697266"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(1563.207495212555, 1788.5590496063232)" class="edgeLabel"><g transform="translate(-9.401041984558105, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="18.80208396911621"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(-7.5, 52.15625)" class="root"><g class="clusters"><g id="subGraph2" class="cluster default flowchart-label"><rect height="580.4340400695801" width="699.2881927490234" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(294.56249618530273, 8)" class="cluster-label"><foreignObject height="18.88888931274414" width="126.16320037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check Trade Exits</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N1 LE-N2" id="L-N1-N2-0" d="M378.139,66.889L378.139,71.056C378.139,75.222,378.139,83.556,378.139,91.006C378.139,98.456,378.139,105.022,378.139,108.306L378.139,111.589"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N2 LE-N3" id="L-N2-N3-0" d="M378.139,150.778L378.139,154.944C378.139,159.111,378.139,167.444,378.139,174.894C378.139,182.344,378.139,188.911,378.139,192.194L378.139,195.478"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N3 LE-N4" id="L-N3-N4-0" d="M378.139,234.667L378.139,238.833C378.139,243,378.139,251.333,378.205,258.867C378.271,266.4,378.403,273.134,378.469,276.501L378.535,279.868"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N4 LE-N5" id="L-N4-N5-0" d="M318.091,400.608L283.081,416.357C248.072,432.106,178.053,463.603,143.044,484.209C108.035,504.816,108.035,514.53,108.035,519.388L108.035,524.245"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N4 LE-N6" id="L-N4-N6-0" d="M341.352,423.869L332.477,435.741C323.602,447.613,305.853,471.357,296.979,488.086C288.104,504.816,288.104,514.53,288.104,519.388L288.104,524.245"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N4 LE-N7" id="L-N4-N7-0" d="M415.926,423.869L424.634,435.741C433.342,447.613,450.758,471.357,459.466,488.086C468.174,504.816,468.174,514.53,468.174,519.388L468.174,524.245"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-N4 LE-N8" id="L-N4-N8-0" d="M437.675,402.12L469.354,417.617C501.033,433.114,564.391,464.107,596.069,484.461C627.748,504.816,627.748,514.53,627.748,519.388L627.748,524.245"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(108.03472137451172, 495.10070610046387)" class="edgeLabel"><g transform="translate(-38.55902862548828, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="77.11805725097656"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Take Profit</span></div></foreignObject></g></g><g transform="translate(288.10416412353516, 495.10070610046387)" class="edgeLabel"><g transform="translate(-33.003475189208984, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="66.00695037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Stop Loss</span></div></foreignObject></g></g><g transform="translate(468.1736068725586, 495.10070610046387)" class="edgeLabel"><g transform="translate(-57.48264694213867, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="114.96529388427734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Time-Based Exit</span></div></foreignObject></g></g><g transform="translate(627.7482604980469, 495.10070610046387)" class="edgeLabel"><g transform="translate(-25.555557250976562, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="51.111114501953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No Exit</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(378.1388854980469, 133.8333339691162)" data-id="N2" data-node="true" id="flowchart-N2-126" class="node default default flowchart-label"><rect height="33.88888931274414" width="157.84722900390625" y="-16.94444465637207" x="-78.92361450195312" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-71.42361450195312, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="142.84722900390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check Current Price</span></div></foreignObject></g></g><g transform="translate(378.1388854980469, 49.94444465637207)" data-id="N1" data-node="true" id="flowchart-N1-125" class="node default default flowchart-label"><rect height="33.88888931274414" width="163.80209350585938" y="-16.94444465637207" x="-81.90104675292969" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-74.40104675292969, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="148.80209350585938"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Iterate Active Trades</span></div></foreignObject></g></g><g transform="translate(378.1388854980469, 217.72222328186035)" data-id="N3" data-node="true" id="flowchart-N3-128" class="node default default flowchart-label"><rect height="33.88888931274414" width="127.18751525878906" y="-16.94444465637207" x="-63.59375762939453" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-56.09375762939453, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="112.18751525878906"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Calculate Profit</span></div></foreignObject></g></g><g transform="translate(378.1388854980469, 372.6614646911621)" data-id="N4" data-node="true" id="flowchart-N4-130" class="node default default flowchart-label"><polygon style="" transform="translate(-87.99479484558105,87.99479484558105)" class="label-container" points="87.99479484558105,0 175.9895896911621,-87.99479484558105 87.99479484558105,-175.9895896911621 0,-87.99479484558105"></polygon><g transform="translate(-63.550350189208984, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="127.10070037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Profit Thresholds?</span></div></foreignObject></g></g><g transform="translate(108.03472137451172, 546.489595413208)" data-id="N5" data-node="true" id="flowchart-N5-132" class="node default default flowchart-label"><rect height="33.88888931274414" width="130.06945037841797" y="-16.94444465637207" x="-65.03472518920898" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-57.534725189208984, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="115.06945037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Place Sell Order</span></div></foreignObject></g></g><g transform="translate(288.10416412353516, 546.489595413208)" data-id="N6" data-node="true" id="flowchart-N6-134" class="node default default flowchart-label"><rect height="33.88888931274414" width="130.06945037841797" y="-16.94444465637207" x="-65.03472518920898" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-57.534725189208984, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="115.06945037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Place Sell Order</span></div></foreignObject></g></g><g transform="translate(468.1736068725586, 546.489595413208)" data-id="N7" data-node="true" id="flowchart-N7-136" class="node default default flowchart-label"><rect height="33.88888931274414" width="130.06945037841797" y="-16.94444465637207" x="-65.03472518920898" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-57.534725189208984, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="115.06945037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Place Sell Order</span></div></foreignObject></g></g><g transform="translate(627.7482604980469, 546.489595413208)" data-id="N8" data-node="true" id="flowchart-N8-138" class="node default default flowchart-label"><rect height="33.88888931274414" width="89.07986450195312" y="-16.94444465637207" x="-44.53993225097656" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-37.03993225097656, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="74.07986450195312"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">End Check</span></div></foreignObject></g></g></g></g><g transform="translate(741.7882080078125, 53.579864501953125)" class="root"><g class="clusters"><g id="subGraph1" class="cluster default flowchart-label"><rect height="577.5868110656738" width="414.6441059112549" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(146.7716989517212, 8)" class="cluster-label"><foreignObject height="18.88888931274414" width="137.1007080078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Handle Spike Trade</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M6A LE-M6B" id="L-M6A-M6B-0" d="M202.492,66.889L202.492,71.056C202.492,75.222,202.492,83.556,202.558,91.089C202.624,98.623,202.756,105.356,202.822,108.723L202.888,112.09"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M6B LE-M6C" id="L-M6B-M6C-0" d="M165.339,252.878L156.007,264.811C146.675,276.744,128.01,300.61,118.678,317.4C109.345,334.191,109.345,343.905,109.345,348.763L109.345,353.62"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M6B LE-M6D" id="L-M6B-M6D-0" d="M240.645,252.878L249.811,264.811C258.976,276.744,277.308,300.61,286.473,317.4C295.639,334.191,295.639,343.905,295.639,348.763L295.639,353.62"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M6D LE-M6E" id="L-M6D-M6E-0" d="M295.639,392.809L295.639,396.976C295.639,401.142,295.639,409.476,295.639,416.926C295.639,424.376,295.639,430.942,295.639,434.226L295.639,437.509"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M6E LE-M6F" id="L-M6E-M6F-0" d="M295.639,476.698L295.639,480.865C295.639,485.031,295.639,493.365,295.639,500.815C295.639,508.265,295.639,514.831,295.639,518.115L295.639,521.398"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(109.34548759460449, 324.47569847106934)" class="edgeLabel"><g transform="translate(-11.328126907348633, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="22.656253814697266"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(295.63889503479004, 324.47569847106934)" class="edgeLabel"><g transform="translate(-9.401041984558105, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="18.80208396911621"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(202.49219131469727, 203.4600715637207)" data-id="M6B" data-node="true" id="flowchart-M6B-116" class="node default default flowchart-label"><polygon style="" transform="translate(-86.5711841583252,86.5711841583252)" class="label-container" points="86.5711841583252,0 173.1423683166504,-86.5711841583252 86.5711841583252,-173.1423683166504 0,-86.5711841583252"></polygon><g transform="translate(-62.126739501953125, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="124.25347900390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Cooldown Active?</span></div></foreignObject></g></g><g transform="translate(202.49219131469727, 49.94444465637207)" data-id="M6A" data-node="true" id="flowchart-M6A-115" class="node default default flowchart-label"><rect height="33.88888931274414" width="176.80555725097656" y="-16.94444465637207" x="-88.40277862548828" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-80.90277862548828, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="161.80555725097656"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check Trade Cooldown</span></div></foreignObject></g></g><g transform="translate(109.34548759460449, 375.8645877838135)" data-id="M6C" data-node="true" id="flowchart-M6C-118" class="node default default flowchart-label"><rect height="33.88888931274414" width="88.5763931274414" y="-16.94444465637207" x="-44.2881965637207" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-36.7881965637207, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="73.5763931274414"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Skip Trade</span></div></foreignObject></g></g><g transform="translate(295.63889503479004, 375.8645877838135)" data-id="M6D" data-node="true" id="flowchart-M6D-120" class="node default default flowchart-label"><rect height="33.88888931274414" width="184.0104217529297" y="-16.94444465637207" x="-92.00521087646484" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-84.50521087646484, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="169.0104217529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Determine Trade Action</span></div></foreignObject></g></g><g transform="translate(295.63889503479004, 459.7534770965576)" data-id="M6E" data-node="true" id="flowchart-M6E-122" class="node default default flowchart-label"><rect height="33.88888931274414" width="105.86805725097656" y="-16.94444465637207" x="-52.93402862548828" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-45.43402862548828, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="90.86805725097656"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Place Orders</span></div></foreignObject></g></g><g transform="translate(295.63889503479004, 543.6423664093018)" data-id="M6F" data-node="true" id="flowchart-M6F-124" class="node default default flowchart-label"><rect height="33.88888931274414" width="160.24305725097656" y="-16.94444465637207" x="-80.12152862548828" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-72.62152862548828, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="145.24305725097656"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Update Latest Trade</span></div></foreignObject></g></g></g></g><g transform="translate(1206.4323120117188, -8)" class="root"><g class="clusters"><g id="subGraph0" class="cluster default flowchart-label"><rect height="700.7465705871582" width="487.31339263916016" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(190.1115493774414, 8)" class="cluster-label"><foreignObject height="18.88888931274414" width="123.09029388427734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Detect and Trade</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M1 LE-M2" id="L-M1-M2-0" d="M210.062,66.889L210.062,71.056C210.062,75.222,210.062,83.556,210.128,91.089C210.194,98.623,210.326,105.356,210.392,108.723L210.458,112.09"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M2 LE-M3" id="L-M2-M3-0" d="M173.498,228.555L161.493,240.389C149.488,252.224,125.478,275.893,113.473,292.585C101.468,309.277,101.468,318.992,101.468,323.85L101.468,328.707"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M2 LE-M4" id="L-M2-M4-0" d="M243.715,232.465L252.75,243.648C261.785,254.831,279.856,277.197,288.891,293.237C297.926,309.277,297.926,318.992,297.926,323.85L297.926,328.707"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M4 LE-M5" id="L-M4-M5-0" d="M297.926,367.896L297.926,372.063C297.926,376.229,297.926,384.563,297.992,392.096C298.058,399.63,298.19,406.363,298.256,409.73L298.322,413.097"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M5 LE-M6" id="L-M5-M6-0" d="M262.363,545.406L252.961,557.074C243.558,568.742,224.752,592.077,215.35,608.603C205.947,625.128,205.947,634.843,205.947,639.7L205.947,644.558"></path><path marker-end="url(#graphDiv_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M5 LE-M7" id="L-M5-M7-0" d="M334.489,545.406L343.725,557.074C352.961,568.742,371.433,592.077,380.669,608.603C389.905,625.128,389.905,634.843,389.905,639.7L389.905,644.558"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(101.46788787841797, 299.56252098083496)" class="edgeLabel"><g transform="translate(-11.328126907348633, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="22.656253814697266"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(297.92623138427734, 299.56252098083496)" class="edgeLabel"><g transform="translate(-9.401041984558105, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="18.80208396911621"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(205.94705963134766, 615.413236618042)" class="edgeLabel"><g transform="translate(-11.328126907348633, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="22.656253814697266"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Yes</span></div></foreignObject></g></g><g transform="translate(389.90540313720703, 615.413236618042)" class="edgeLabel"><g transform="translate(-9.401041984558105, -9.44444465637207)" class="label"><foreignObject height="18.88888931274414" width="18.80208396911621"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">No</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(210.0616455078125, 191.00348281860352)" data-id="M2" data-node="true" id="flowchart-M2-104" class="node default default flowchart-label"><polygon style="" transform="translate(-74.11459159851074,74.11459159851074)" class="label-container" points="74.11459159851074,0 148.22918319702148,-74.11459159851074 74.11459159851074,-148.22918319702148 0,-74.11459159851074"></polygon><g transform="translate(-49.67014694213867, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="99.34029388427734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Recent Trade?</span></div></foreignObject></g></g><g transform="translate(210.0616455078125, 49.94444465637207)" data-id="M1" data-node="true" id="flowchart-M1-103" class="node default default flowchart-label"><rect height="33.88888931274414" width="136.68404388427734" y="-16.94444465637207" x="-68.34202194213867" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-60.84202194213867, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="121.68404388427734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Get Price History</span></div></foreignObject></g></g><g transform="translate(101.46788787841797, 350.9514102935791)" data-id="M3" data-node="true" id="flowchart-M3-106" class="node default default flowchart-label"><rect height="33.88888931274414" width="85.64236450195312" y="-16.94444465637207" x="-42.82118225097656" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-35.32118225097656, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="70.64236450195312"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Skip Asset</span></div></foreignObject></g></g><g transform="translate(297.92623138427734, 350.9514102935791)" data-id="M4" data-node="true" id="flowchart-M4-108" class="node default default flowchart-label"><rect height="33.88888931274414" width="165.81597900390625" y="-16.94444465637207" x="-82.90798950195312" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-75.40798950195312, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="150.81597900390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Calculate Price Delta</span></div></foreignObject></g></g><g transform="translate(297.92623138427734, 499.43232345581055)" data-id="M5" data-node="true" id="flowchart-M5-110" class="node default default flowchart-label"><polygon style="" transform="translate(-81.53646659851074,81.53646659851074)" class="label-container" points="81.53646659851074,0 163.07293319702148,-81.53646659851074 81.53646659851074,-163.07293319702148 0,-81.53646659851074"></polygon><g transform="translate(-57.09202194213867, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="114.18404388427734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Spike Detected?</span></div></foreignObject></g></g><g transform="translate(205.94705963134766, 666.8021259307861)" data-id="M6" data-node="true" id="flowchart-M6-112" class="node default default flowchart-label"><rect height="33.88888931274414" width="152.1007080078125" y="-16.94444465637207" x="-76.05035400390625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-68.55035400390625, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="137.1007080078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Handle Spike Trade</span></div></foreignObject></g></g><g transform="translate(389.90540313720703, 666.8021259307861)" data-id="M7" data-node="true" id="flowchart-M7-114" class="node default default flowchart-label"><rect height="33.88888931274414" width="115.81597900390625" y="-16.94444465637207" x="-57.907989501953125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-50.407989501953125, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="100.81597900390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">End Detection</span></div></foreignObject></g></g></g></g><g transform="translate(1776.2543773651123, 350.3732604980469)" data-id="A" data-node="true" id="flowchart-A-71" class="node default default flowchart-label"><rect height="33.88888931274414" width="50.017364501953125" y="-16.94444465637207" x="-25.008682250976562" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-17.508682250976562, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="35.017364501953125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Start</span></div></foreignObject></g></g><g transform="translate(1776.2543773651123, 767.6909656524658)" data-id="B" data-node="true" id="flowchart-B-72" class="node default default flowchart-label"><rect height="33.88888931274414" width="213.57640075683594" y="-16.94444465637207" x="-106.78820037841797" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-99.28820037841797, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="198.57640075683594"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Load Environment Variables</span></div></foreignObject></g></g><g transform="translate(1776.2543773651123, 851.57985496521)" data-id="C" data-node="true" id="flowchart-C-74" class="node default default flowchart-label"><rect height="33.88888931274414" width="242.1180877685547" y="-16.94444465637207" x="-121.05904388427734" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-113.55904388427734, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="227.1180877685547"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Initialize Web3 and CLOB Client</span></div></foreignObject></g></g><g transform="translate(1776.2543773651123, 935.4687442779541)" data-id="D" data-node="true" id="flowchart-D-76" class="node default default flowchart-label"><rect height="33.88888931274414" width="122.46529388427734" y="-16.94444465637207" x="-61.23264694213867" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-53.73264694213867, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="107.46529388427734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Fetch Positions</span></div></foreignObject></g></g><g transform="translate(1776.2543773651123, 1019.3576335906982)" data-id="E" data-node="true" id="flowchart-E-78" class="node default default flowchart-label"><rect height="33.88888931274414" width="203.8541717529297" y="-16.94444465637207" x="-101.92708587646484" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-94.42708587646484, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="188.8541717529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Wait for Manual $1 Entries</span></div></foreignObject></g></g><g transform="translate(1776.2543773651123, 1195.8246612548828)" data-id="F" data-node="true" id="flowchart-F-80" class="node default default flowchart-label"><polygon style="" transform="translate(-109.52258491516113,109.52258491516113)" class="label-container" points="109.52258491516113,0 219.04516983032227,-109.52258491516113 109.52258491516113,-219.04516983032227 0,-109.52258491516113"></polygon><g transform="translate(-85.07814025878906, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="170.15628051757812"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Initialization Complete?</span></div></foreignObject></g></g><g transform="translate(1688.7500343322754, 1391.1805782318115)" data-id="G" data-node="true" id="flowchart-G-82" class="node default default flowchart-label"><rect height="33.88888931274414" width="130.50347900390625" y="-16.94444465637207" x="-65.25173950195312" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-57.751739501953125, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="115.50347900390625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Enter Main Loop</span></div></foreignObject></g></g><g transform="translate(1863.7587203979492, 1391.1805782318115)" data-id="H" data-node="true" id="flowchart-H-84" class="node default default flowchart-label"><rect height="33.88888931274414" width="119.5138931274414" y="-16.94444465637207" x="-59.7569465637207" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-52.2569465637207, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="104.5138931274414"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Exit with Error</span></div></foreignObject></g></g><g transform="translate(1461.1936020851135, 1475.0694675445557)" data-id="I" data-node="true" id="flowchart-I-86" class="node default default flowchart-label"><rect height="33.88888931274414" width="181.45834350585938" y="-16.94444465637207" x="-90.72917175292969" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-83.22917175292969, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="166.45834350585938"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Refresh API Credentials</span></div></foreignObject></g></g><g transform="translate(1461.1936020851135, 1648.0642585754395)" data-id="J" data-node="true" id="flowchart-J-88" class="node default default flowchart-label"><polygon style="" transform="translate(-106.05034828186035,106.05034828186035)" class="label-container" points="106.05034828186035,0 212.1006965637207,-106.05034828186035 106.05034828186035,-212.1006965637207 0,-106.05034828186035"></polygon><g transform="translate(-81.60590362548828, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="163.21180725097656"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Credentials Refreshed?</span></div></foreignObject></g></g><g transform="translate(1440.8290176391602, 1839.9479389190674)" data-id="K" data-node="true" id="flowchart-K-90" class="node default default flowchart-label"><rect height="33.88888931274414" width="162.48265075683594" y="-16.94444465637207" x="-81.24132537841797" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-73.74132537841797, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="147.48265075683594"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Update Price History</span></div></foreignObject></g></g><g transform="translate(1644.856803894043, 1839.9479389190674)" data-id="L" data-node="true" id="flowchart-L-92" class="node default default flowchart-label"><rect height="33.88888931274414" width="145.5729217529297" y="-16.94444465637207" x="-72.78646087646484" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-65.28646087646484, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="130.5729217529297"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Wait for 5 Minutes</span></div></foreignObject></g></g><g transform="translate(1440.8290176391602, 1923.8368282318115)" data-id="M" data-node="true" id="flowchart-M-96" class="node default default flowchart-label"><rect height="33.88888931274414" width="138.09029388427734" y="-16.94444465637207" x="-69.04514694213867" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-61.54514694213867, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="123.09029388427734"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Detect and Trade</span></div></foreignObject></g></g><g transform="translate(1440.8290176391602, 2007.7257175445557)" data-id="N" data-node="true" id="flowchart-N-98" class="node default default flowchart-label"><rect height="33.88888931274414" width="141.16320037841797" y="-16.94444465637207" x="-70.58160018920898" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-63.081600189208984, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="126.16320037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Check Trade Exits</span></div></foreignObject></g></g><g transform="translate(1655.138921737671, 2091.6146068573)" data-id="O" data-node="true" id="flowchart-O-100" class="node default default flowchart-label"><rect height="33.88888931274414" width="139.60070037841797" y="-16.94444465637207" x="-69.80035018920898" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-62.300350189208984, -9.44444465637207)" style="" class="label"><rect></rect><foreignObject height="18.88888931274414" width="124.60070037841797"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Sleep for Interval</span></div></foreignObject></g></g></g></g></g></svg>

1. **State Management**
   - Global variables for tracking trades and prices
   - Price history management
   - Active trade tracking

2. **Trading Logic**
   - Price spike detection
   - Order placement with retries
   - Take-profit and stop-loss management
   - USDC allowance management

3. **Main Loop**
   - Price updates
   - Trade detection
   - Position management
   - API credential refresh

## Running the Bot

```bash
python main.py
```

## Important Notes

- Ensure sufficient USDC balance in your wallet
- Monitor the bot's logs in `bot_log.txt`
- The bot maintains $1 worth of shares when selling
- Trades are executed with a $3 unit size
- API credentials are refreshed hourly

## Safety Features

- Automatic retry mechanism for failed orders
- USDC balance checks before trades
- Error handling and logging
- Transaction receipt verification 

## Contact Me

